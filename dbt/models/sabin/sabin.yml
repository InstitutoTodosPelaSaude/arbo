version: 2

sources:
  - name: dagster
    description: Raw data from Sabin
    schema: arboviroses
    tables:
      - name: sabin_raw
        meta:
            dagster:
              asset_key: ["sabin_raw"]
        description: Raw data from Sabin

models:
  - name: sabin_01_convert_types
    description: Convert types
    columns:
      - name: date_testing
        tests:
          - accepted_range:
              max_value: "getdate()"
              
  - name: sabin_02_fix_types
    description: Convert types
    columns:
      - name: sex
        tests:
          - accepted_values:
              values: ['F', 'M']

      - name: age
        tests:
          - dbt_utils.accepted_range:
              min_value: 0
              max_value: 150
              
